<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1, maximum-scale=1">
	
	<title>h5</title>
</head>
<script src="../js/jquery-3.1.1.min.js"></script>
<script src="../js/jquery-ui.min.js"></script>
<script src="../js/jquery.easings.min.js"></script>
<script src="../js/jquery.fullpage.min.js "></script>
<style>
	body{
		padding: 0;
		margin: 0;
	}
	.component{
		width: 50%;
		height: 50px;
		margin: auto; 
		background: #888;
		display: none;
	}
</style>

<script>
 
	$(function () {
		$("#h5").fullpage({
			sectionsColor:["blue","yellow","red"],

			onLeave:function (index,nextIndex,direction) {
				$("#h5").find('.page').eq(index-1).trigger('onLeave');
			},
			afterLoad:function (anchorLink,index) {
				$("#h5").find('.page').eq(index-1).trigger('onLoad');
			}
		});

		$(".page").on("onLeave",function () {
			$(this).find(".component").trigger('onLeave');
			console.log($(this).attr("id")+"离开");
		});
		$(".page").on("onLoad",function () {
			$(this).find(".component").trigger('onLoad');
			console.log($(this).attr("id")+"加载 " );
		});
		$(".component").on("onLeave",function () {
			$(this).fadeOut();
			return false;
		});
		$(".component").on("onLoad",function () {
			$(this).fadeIn();
			return false;
		}); 



	});
</script>
<body>
	<div id="h5">
		<div class="page section" id="page-1">
			<div class="component logo">logo</div>
			<div class="component slogan">slogan</div>
		</div>
		<div class="page section" id="page-2">
			<div class="component desc">desc</div>
		</div>
		<div class="page section" id="page-3">
			<div class="component bar">bar</div> 
		</div>
	</div>
</body>
</html>